webpackJsonp([4],{"1WP8":function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#monitorChart{height:33vw;width:100%}#monitorChart .chartHeader{text-align:center}#monitorChart .legend{position:relative;top:30px;clear:both}#monitorChart .legend .item{margin-left:23%}",""]),e.exports=e.exports.toString()},"1a9c":function(e,t){e.exports='<div id="monitorChart">\r\n    <div style="width:33%; height:22vw; float:left;" *ngFor="let g of config.groups$ | async">\r\n        <h3 class="chartHeader">{{g.title}}</h3>\r\n        <div style="width:100%; height:22vw;" pie-chart [data]="data" [items]="g.activeItems"></div>\r\n    </div>\r\n\r\n    <div class="legend margin-t-20" fxLayout="row">\r\n        <div *ngFor="let item of config.groups$ | async" fxFlex>\r\n            <div *ngFor="let t of item.items" class="item">\r\n                <div style="display: inline-block; margin: 0 10px; width: 15px; height: 15px;" [style.background-color]="t._hidden? \'\':t.color "></div>\r\n                <span style="font-size: 11px;"> {{t.title}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<chart-item-group-view #config>\r\n    <chart-item-group i18n-title title="Ticket Detail">\r\n        <chart-item field="finished" color="#109619" i18n-title title="Finished Transaction"></chart-item>\r\n        <chart-item field="cancelled" color="#ff9a00" i18n-title title="Cancelled Transaction"></chart-item>\r\n        <chart-item field="waiting" color="#3266cc" i18n-title title="Waiting Transaction"></chart-item>\r\n        <chart-item field="serving" color="#dc3812" i18n-title title="Serving Transaction"></chart-item>\r\n    </chart-item-group>\r\n    <chart-item-group i18n-title title="Exceeded Waiting Time Transaction">\r\n        <chart-item field="wait_standard" color="#ffd092" i18n-title title="Standard Waiting Time Transaction"></chart-item>\r\n        <chart-item field="wait_long" color="#ff9803" i18n-title title="Exceeded Waiting Time Transaction"></chart-item>\r\n    </chart-item-group>\r\n    <chart-item-group i18n-title title="Exceeded Serving Time Transaction">\r\n        <chart-item field="serve_standard" color="#feb6ff" i18n-title title="Standard Serving Time Transaction"></chart-item>\r\n        <chart-item field="serve_long" color="#990099" i18n-title title="Exceeded Serving Time Transaction"></chart-item>\r\n    </chart-item-group>\r\n</chart-item-group-view>'},"3eyR":function(e,t,n){"use strict";var r=n("7xF8"),i=function(){function e(e){void 0===e&&(e=[]),this.data=e,this.admin=this.filterByRole(r.USER_ROLES.ADMIN),this.manager=this.filterByRole(r.USER_ROLES.MANAGER)}return e.prototype.filterByRole=function(e){return(this.data||[]).filter(function(t){return t&&t.role&&-1!==t.role.indexOf(e)})},e}(),o=n("r+lL");n.d(t,"c",function(){return i}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,!1,function(){}),n.d(t,"a",function(){return o.ActivityCategory}),n.d(t,"b",function(){return o.TicketGroup})},"57z9":function(e,t){e.exports='<div id="modal_monitor_detailTicket" *ngIf="ticket">\r\n    <h3 class="modal-header" i18n>Ticket Detail</h3>\r\n\r\n    <div class="modal-content" *ngIf="box$ | async; let box">\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Ticket Number</div>\r\n            <div fxFlex>\r\n                <ticket-icon [ticket]="ticket"></ticket-icon>\r\n                <span>{{ticket.cnum}}</span>\r\n            </div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>State</div>\r\n            <div fxFlex class="capitalize">{{ticket | ticketState}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Service</div>\r\n            <div fxFlex>\r\n                <span>{{ticket.service_id | serviceName}}</span>\r\n            </div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Time of ticket printed</div>\r\n            <div fxFlex>{{ticket.ctime | localDayTime}}</div>\r\n        </div>\r\n\r\n        <div class="margin-t-10" fxLayout="row" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Waiting Time</div>\r\n            <div fxFlex>\r\n                <timer *ngIf="ticket.state === \'waiting\'" [start]="ticket.mtime" [timeWarning]="maxWaitingMinute"></timer>\r\n                <span *ngIf="ticket.state !== \'waiting\'">{{ticket.mtime - ticket.ctime | timeDuration}}</span>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="margin-t-10" fxLayout="row" fxLayoutGap="20px" *ngIf="ticket.state !== \'waiting\'">\r\n            <div fxFlex i18n>Serving Time</div>\r\n            <div fxFlex>\r\n                <timer *ngIf="ticket.state === \'serving\'" [start]="ticket.mtime" [timeWarning]="maxServingMinute"></timer>\r\n                <div *ngIf="ticket.state === \'finished\'"> {{ticket.__stime | timeDuration}} </div>\r\n                <div *ngIf="ticket.state === \'cancelled\'"> 00:00:00 </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Branch</div>\r\n            <div fxFlex *ngIf="box.parent; let p">{{p.name}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Store</div>\r\n            <div fxFlex *ngIf="box.branch; let b">{{b.name}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="ticket.state !== \'waiting\'">\r\n            <div fxFlex i18n>User</div>\r\n            <div fxFlex>{{ticket.user_id | userFullName}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px" *ngIf="ticket.state !== \'waiting\'">\r\n            <div fxFlex i18n>Counter</div>\r\n            <div fxFlex>{{ticket.counter_id | counterName }}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Manager</div>\r\n            <div fxFlex *ngIf="box.users.manager[0]; let u">{{u.fullname}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Administrator</div>\r\n            <div fxFlex *ngIf="box.users.admin[0]; let u">{{u.fullname}}</div>\r\n        </div>\r\n\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Customer Name</div>\r\n            <div fxFlex *ngIf="ticket.customer.full_name"> {{ticket.customer.full_name}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Customer Code</div>\r\n            <div fxFlex *ngIf="ticket.customer.code"> {{ticket.customer.code}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Phone Number</div>\r\n            <div fxFlex *ngIf="ticket.customer.phone_number"> {{ticket.customer.phone_number}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-t-10" fxLayoutGap="20px">\r\n            <div fxFlex i18n>Segment</div>\r\n            <div fxFlex *ngIf="ticket.customer.segment"> {{ticket.customer.segment}}</div>\r\n        </div>\r\n        <div fxLayout="row" class="margin-20-10" fxLayoutGap="20px">\r\n            <div fxFlex></div>\r\n            <button fxFlex (click)="close()" class="btnFill uppercase" i18n>Close</button>\r\n        </div>\r\n    </div>\r\n</div>'},"5KKJ":function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#focusComponent .overview{width:100%}#focusComponent .overview span{margin-bottom:10px}#focusComponent .missed{color:#156a9a}#focusComponent .serving{color:#414042}#focusComponent .serveDone{color:#156a9a}#focusComponent .cancelled{color:#ff5858}#modal_monitor_detailTicket .modalContent{padding:20px}#modal_monitor_detailTicket .modalContent table{width:100%;border-spacing:0}#modal_monitor_detailTicket .modalContent table th{font-weight:100;padding:5px 10px;text-align:left}#modal_monitor_detailTicket .modalContent .cusDetail{width:50%;margin:auto;margin-top:10px}#modal_monitor_detailTicket .modalContent button{margin:20px 0;float:right}",""]),e.exports=e.exports.toString()},"7xF8":function(e,t,n){"use strict";var r=n("gOac");n.d(t,"AppSocket",function(){return r.a}),n.d(t,"AppStorage",function(){return r.b}),n.d(t,"BranchFilterService",function(){return r.c}),n.d(t,"BranchModule",function(){return r.d}),n.d(t,"ExclusiveEventEmitter",function(){return r.e}),n.d(t,"HttpServiceGenerator",function(){return r.g}),n.d(t,"LogService",function(){return r.h}),n.d(t,"ProjectConfig",function(){return r.i}),n.d(t,"RouterQueryStorageStrategy",function(){return r.j}),n.d(t,"RuntimeEnvironment",function(){return r.k}),n.d(t,"SharedModule",function(){return r.l}),n.d(t,"SmallStorage",function(){return r.m});var i=n("r+lL");n.o(i,"CacheBranch")&&n.d(t,"CacheBranch",function(){return i.CacheBranch}),n.o(i,"CacheCounter")&&n.d(t,"CacheCounter",function(){return i.CacheCounter}),n.o(i,"CacheService")&&n.d(t,"CacheService",function(){return i.CacheService}),n.o(i,"CacheUsers")&&n.d(t,"CacheUsers",function(){return i.CacheUsers}),n.o(i,"GlobalActivitySummary")&&n.d(t,"GlobalActivitySummary",function(){return i.GlobalActivitySummary}),n.o(i,"GlobalTicketSummary")&&n.d(t,"GlobalTicketSummary",function(){return i.GlobalTicketSummary}),n.o(i,"TicketStates")&&n.d(t,"TicketStates",function(){return i.TicketStates}),n.o(i,"USER_ROLES")&&n.d(t,"USER_ROLES",function(){return i.USER_ROLES});var o=n("DHq1");n.d(t,"TimerComopnent",function(){return o.e})},"9XJH":function(e,t,n){"use strict";var r=n("/oeL"),i=n("7xF8"),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e){function t(t,n){var r=e.call(this,"monitor",t)||this;return r.branchFilterService=n,r}return o(t,e),t.prototype.GetStores=function(){return this.branchFilterService.getByLevel(0)},t.prototype.ToQuery=function(){var e=this.GetStores();return Object.assign({branch_id:e.join(",")},{focus:this.data.focus})},t}(i.SmallStorage);s=a([Object(r.Injectable)(),c("design:paramtypes",["function"==typeof(l=void 0!==i.RouterQueryStorageStrategy&&i.RouterQueryStorageStrategy)&&l||Object,"function"==typeof(u=void 0!==i.BranchFilterService&&i.BranchFilterService)&&u||Object])],s);var l,u,d=n("WBAt"),f=[s,d.a];n.d(t,"c",function(){return p}),n.d(t,!1,function(){return f}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return d.a});var p=[f]},"9ldY":function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#focusComponent .overview{width:100%}#focusComponent .overview span{margin-bottom:10px}",""]),e.exports=e.exports.toString()},"9rJr":function(e,t,n){"use strict";n.d(t,"monitorServiceProviders",function(){return a});var r=n("q6Z3");n.d(t,"MonitorDeviceSocket",function(){return r.a});var i=n("pMQG");n.d(t,"MonitorSummaryService",function(){return i.a});var o=n("km5z");n.d(t,"MonitorFocusService",function(){return o.a});var a=(n("xpjA"),[r.a,o.a,i.a])},FYg9:function(e,t){e.exports='<div id="incomplete">\r\n    <h3 i18n>Waiting Tickets</h3>\r\n\r\n    \x3c!--<table class="tableCtrl">\r\n        <thead>\r\n            <th i18n>No.</th>\r\n            <th i18n>Service Name</th>\r\n            <th i18n>Ticket Number</th>\r\n            <th i18n>Customer</th>\r\n            <th i18n>Print Time</th>\r\n            <th i18n>Waiting Time</th>\r\n            <th i18n>Detail</th>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let t of data ; let i = index">\r\n                <td> {{i + 1}} </td>\r\n                <td> {{t.service_id | serviceName}}</td>\r\n                <td>\r\n                    <ticket-icon [ticket]="t"></ticket-icon>\r\n                    <span>{{t.cnum}}</span>\r\n                </td>\r\n                <td> {{t.customer?.full_name }} </td>\r\n                <td> {{t.ctime | localDayTime}}</td>\r\n                <td>\r\n                    <timer *ngIf="t.state === \'waiting\'" [start]="t.mtime" [timeWarning]="maxWaitingMinute"></timer>\r\n                </td>\r\n                <td>\r\n                    <span (click)="showDetails(t)">\r\n                    <img class="iconDetail" src="./assets/img/icon/play.png" alt="Search" style="cursor: pointer">\r\n                </span>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>--\x3e\r\n\r\n\r\n    <ag-grid-angular #agGrid style="height: 65vh; background-color: #fff" [gridOptions]="gridOptions" [rowData]="data" class="ag-fresh tableCtrl"\r\n        enableColResize enableSorting>\r\n\r\n        <ag-grid-column headerName="No." [cellRenderer]="noCellRenderer" [width]="50" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Service Name" [cellRenderer]="serviceCellRenderer" [width]="230" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Ticket Number" [cellRendererFramework]="ticketIconNumber" [cellRendererParams]="{width: \'15px\'}"\r\n            [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Customer" field="customer.full_name" [width]="200" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Print Time" [cellRenderer]="printTimeCellRendered" [width]="95" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Waiting Time" [cellRendererFramework]="waitingTime" [cellRendererParams]="{timeWarning: maxWaitingMinute}"\r\n            [width]="95" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Detail" [cellClass]="cellclass" [cellRenderer]="detailCellRenderer" [width]="70" i18n-headerName></ag-grid-column>\r\n\r\n    </ag-grid-angular>\r\n    \x3c!--<div id="pagination" fxLayout="row" fxLayoutGap="10px" fxLayoutAlign="none center" class="margin-t-20">\r\n        <button fxFlex="60px" class="btnClear pointer" (click)="jumpToFirst()">First</button>\r\n        <button fxFlex="30px" class="btnClear pointer" (click)="prevPage()"><</button>\r\n        <button fxFlex="30px" class="btnClear pointer" (click)="nextPage()">></button>\r\n        <button fxFlex="60px" class="btnClear pointer" (click)="jumpToLast()">Last</button>\r\n        <div fxFlex="10px"></div>\r\n        <input fxFlex="30px" class="curentPage" type="number" min="1" [max]="totalPage" [(ngModel)]="curentPage">\r\n        <span class="totalPages">/ ({{totalPage}} <span i18n>Pages</span>)</span>\r\n        <button fxFlex="50px" class="btnClear pointer" (click)="jumpToPage(curentPage)">Go</button>\r\n        <div fxFlex></div>\r\n        <button fxFlex="250px" class="btnClear export uppercase" (click)="excel()">\r\n            <i class="fa fa-file-excel-o fa-lg"></i>\r\n            <span i18n>Export to excel</span>\r\n        </button>\r\n    </div>--\x3e\r\n</div>'},Ic5U:function(e,t){},IhVQ:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#incomplete td,#incomplete th{text-align:center}",""]),e.exports=e.exports.toString()},"K9/d":function(e,t){e.exports='<div fxLayout="column" class="filter">\r\n    <branch-filter fxFlex class="content"></branch-filter>\r\n    <div fxFlex="7vh" class="action">\r\n        <button class="btnFill uppercase" (click)="refresh()" i18n>View</button>\r\n    </div>\r\n</div>'},MR9t:function(e,t,n){"use strict";function r(){return $e}function i(){return Ct}Object.defineProperty(t,"__esModule",{value:!0});var o=n("/oeL"),a=n("7xF8"),c=n("BkNc"),s=n("iAxl"),l=n("WBAt"),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),d=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e){function t(t,n){var r=e.call(this,t.Platform.WebSocket+"/room/monitor/join",t.Debug.socket,n)||this;return r.env=t,r}return u(t,e),t.prototype.onInit=function(){e.prototype.Connect.call(this,{}),this.KeepAlive()},t.prototype.onDestroy=function(){this.Terminate()},t}(s.AppSocket);p=d([Object(o.Injectable)(),f("design:paramtypes",["function"==typeof(h=void 0!==s.RuntimeEnvironment&&s.RuntimeEnvironment)&&h||Object,"function"==typeof(m=void 0!==s.LogService&&s.LogService)&&m||Object])],p);var h,m,v=n("0imh"),g=n("LEug"),y=n("+zVg"),b=(n("HUu4"),n("6nek")),_=(n("pkLr"),this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),x=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=function(){function e(){this.last=Date.now(),this.max_wait=8e3,this.pending=0}return e.prototype.auditInterval=function(){var e=Date.now(),t=(e-this.last)/1e3;return this.last=e,Math.min(Math.round(32e3/t),this.max_wait)},e.prototype.getInterval=function(){var e=2e3*this.pending;return this.pending=0,Math.min(e,this.max_wait)},e.prototype.adjust=function(){return Object(b.interval)(this.getInterval())},e.prototype.inc=function(){this.pending++},e}(),w=function(){function e(e){var t=this;this.socket=e,this.initialSummary$=this.socket.Connected$.switchMap(function(e){return t.Branches$.switchMap(function(e){return t.socket.Send("/summary",{branches:e})})}).share(),this.summaryUpdate$=this.socket.RxEvent("/ticket/summary/update"),this.audit=new S,this.summaries$=this.initialSummary$.switchMap(function(e){var n=new s.GlobalTicketSummary;n.Refresh(e);var r=t.summaryUpdate$.map(function(e){t.audit.inc(),n.Replace(e)});return Object(g.merge)(Object(y.of)(null),r).map(function(e){return n})}).audit(function(e){return t.audit.adjust()}).share(),this.Branches$=new v.ReplaySubject(1)}return e}();w=_([Object(o.Injectable)(),x("design:paramtypes",["function"==typeof(C=void 0!==p&&p)&&C||Object])],w);var C,k=n("xpjA"),R=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},j=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},O=function(){function e(e,t){var n=this;this.socket=e,this.navService=t,this.initialFocus$=this.socket.Connected$.switchMap(function(e){return n.Branch$.switchMap(function(e){return n.socket.Send("/focus",{branch_id:e})})}).share(),this.ticketSummaryUpdate$=this.socket.RxEvent("/ticket/summary/update"),this.activitySummaryUpdate$=this.socket.RxEvent("/activity/summary/update"),this.ticketChange$=this.socket.RxEvent("/ticket/update"),this.Box$=this.initialFocus$.switchMap(function(e){var t=new k.BoxTicket(e);k.CacheCounter.Refresh(e.counters),k.CacheUsers.Refresh(e.users);var r=n.ticketSummaryUpdate$.map(function(e){t.UpdateTicketSummary(e)}),i=n.ticketChange$.map(function(e){t.UpdateTicket(e)});return Object(y.of)(null).merge(r,i).map(function(e){return t})}).share().auditTime(1e3).publishReplay(1).refCount(),this.Branch$=new v.ReplaySubject(1)}return e.prototype.Unfocus=function(){this.socket.Send("/focus",{}).subscribe()},e}();O=R([Object(o.Injectable)(),j("design:paramtypes",["function"==typeof(T=void 0!==p&&p)&&T||Object,"function"==typeof(N=void 0!==s.MonitorNavService&&s.MonitorNavService)&&N||Object])],O);var T,N,P=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},F=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(){function e(e){this.httpSG=e,this.api=this.httpSG.make("/api/monitor"),this.apiReport=this.httpSG.make("/api/report/user")}return e.prototype.GetCustomerByID=function(e){return this.api.Get("get_customer_by_id",{id:e})},e.prototype.GetUserByRoleNBranch=function(e,t){return this.apiReport.Get("get_user_by_branch_id",{branch_id:e,role:t})},e}();A=P([Object(o.Injectable)(),F("design:paramtypes",["function"==typeof(L=void 0!==s.HttpServiceGenerator&&s.HttpServiceGenerator)&&L||Object])],A);var L,M=[p,O,w,A],D=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},G=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},B=function(){function e(e,t,n,r){this.navService=e,this.filterService=t,this.summaryService=n,this.socket=r,this.isFocus$=this.filterService.Data$.map(function(e){return e.focus.length>0})}return e.prototype.ngOnInit=function(){this.socket.onInit()},e.prototype.ngOnDestroy=function(){this.socket.onDestroy()},e}();B=D([Object(o.Component)({selector:"monitor-ticket",template:n("iW3q")}),G("design:paramtypes",["function"==typeof($=void 0!==l.a&&l.a)&&$||Object,"function"==typeof(I=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&I||Object,"function"==typeof(E=void 0!==w&&w)&&E||Object,"function"==typeof(U=void 0!==p&&p)&&U||Object])],B);var $,I,E,U,W=n("6lRS"),H=n("6P86"),K=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},z=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},V=function(){function e(e,t,n,r,i,o){this.navService=e,this.route=t,this.router=n,this.filterService=r,this.summaryService=i,this.focusService=o,this.isServed=!0,this.box$=this.focusService.Box$,this.tickets$=this.focusService.Box$.map(function(e){return e.tickets}).filter(function(e){return!!e}),this.serving$=this.tickets$.switchMap(function(e){return e.Serving$}),this.incomplete$=this.tickets$.switchMap(function(e){return Object(H.combineLatest)(e.Waiting$,e.Missed$).map(function(e){var t=e[0],n=e[1];return n.forEach(function(e){for(var t=0;t<e.tracks.length;t++)"serving"===e.tracks[t].state&&"waiting"===e.tracks[t-1].state&&(e.waiting_time=e.tracks[t].mtime-e.tracks[t-1].mtime,t=e.tracks.length)}),[].concat(t).concat(n)})}),this.completed$=this.tickets$.switchMap(function(e){return Object(H.combineLatest)(e.Finished$,e.Cancelled$).map(function(e){var t=e[0],n=e[1];return[].concat(t).concat(n)})})}return e.prototype.ngOnInit=function(){var e=this;this.navService.Refresh$.ExclusiveSubscribe(function(t){var n=e.route.snapshot.params.branch_id;e.focusService.Branch$.next(n)})},e.prototype.ngOnDestroy=function(){},e.prototype.goBackBranchList=function(){this.router.navigate(["../../summary"],{relativeTo:this.route,queryParamsHandling:"preserve"})},e}();K([Object(o.ViewChild)(s.TimerComopnent),z("design:type","function"==typeof(q=void 0!==s.TimerComopnent&&s.TimerComopnent)&&q||Object)],V.prototype,"wait_long",void 0),V=K([Object(o.Component)({selector:"focus-on-branch",template:n("abQ8"),styles:[n("9ldY")]}),z("design:paramtypes",["function"==typeof(Q=void 0!==l.a&&l.a)&&Q||Object,"function"==typeof(Z=void 0!==c.a&&c.a)&&Z||Object,"function"==typeof(J=void 0!==c.c&&c.c)&&J||Object,"function"==typeof(Y=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&Y||Object,"function"==typeof(X=void 0!==w&&w)&&X||Object,"function"==typeof(ee=void 0!==O&&O)&&ee||Object])],V);var q,Q,Z,J,Y,X,ee,te=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ne=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},re=this&&this.__param||function(e,t){return function(n,r){t(n,r,e)}},ie=function(){function e(e,t,n,r){this.dialogData=e,this.customerService=t,this.monitorFocus=n,this.dialogRef=r,this.showWaiting=!1,this.showServing=!1,this.box$=this.monitorFocus.Box$,this.maxWaitingMinute=s.ProjectConfig.service.max_waiting_minute,this.maxServingMinute=s.ProjectConfig.service.max_serving_minute}return e.prototype.ngOnInit=function(){this.ticket=this.dialogData},e.prototype.close=function(){this.dialogRef.close()},e.prototype.getCusInfo=function(e){var t=this;this.customerService.GetCustomerByID(e).subscribe(function(e){t.customer=e})},e}();ie=te([Object(o.Component)({selector:"ticket-detail",template:n("57z9"),styles:[n("WmlK")]}),re(0,Object(o.Optional)()),re(0,Object(o.Inject)(W.a)),ne("design:paramtypes",[Object,"function"==typeof(oe=void 0!==A&&A)&&oe||Object,"function"==typeof(ae=void 0!==O&&O)&&ae||Object,"function"==typeof(ce=void 0!==W.g&&W.g)&&ce||Object])],ie);var oe,ae,ce,se=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},le=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ue=function(){function e(e,t,n,r,i){var o=this;this.router=e,this.route=t,this.navService=n,this.filterService=r,this.summaryService=i,this.records$=this.summaryService.summaries$.map(function(e){return e.ToArray()}).share(),this.total$=this.summaryService.summaries$.map(function(e){return e.GetTotal()}),this.gridOptions={rowHeight:35,getRowStyle:function(e){},onCellClicked:function(e){e.data.branch_id&&o.router.navigate(["../focus",e.data.branch_id],{relativeTo:o.route,queryParamsHandling:"merge"})}}}return e.prototype.ngOnInit=function(){var e=this;this.navService.Refresh$.ExclusiveSubscribe(function(t){e.summaryService.Branches$.next(e.filterService.GetStores())}),this.records$.subscribe(function(e){e.forEach(function(e){e.branch_id&&(e.store=s.CacheBranch.GetNameForID(e.branch_id),e.exceededWaitingCell=e.wait_long+" ("+e.w_l_percent+"%)",e.exceededServingCell=e.serve_long+" ("+e.s_l_percent+"%)")})}),this.total$.subscribe(function(t){t&&e.gridOptions.api&&("vi"===s.AppStorage.Culture&&(t.store="T\xf4\u0309ng c\xf4\u0323ng"),"sp"===s.AppStorage.Culture?t.store="Sesumen":t.store="Summary",t.exceededWaitingCell=t.wait_long+" ("+t.w_l_percent+"%)",t.exceededServingCell=t.serve_long+" ("+t.s_l_percent+"%)",setTimeout(function(e){var n=document.getElementsByClassName("ag-floating-bottom")[0].getElementsByClassName("ag-row")[2];if(n){var r=n.getElementsByClassName("ag-cell");t.w_l_percent>s.ProjectConfig.service.wait_long_alert_percent?(r[6].style.backgroundColor="#ff5858",r[6].style.color="#fff"):(r[6].style.backgroundColor="#f0f0f0",r[6].style.color="#222");var i=n.getElementsByClassName("ag-cell");t.s_l_percent>s.ProjectConfig.service.serve_long_alert_percent?(i[7].style.backgroundColor="#ff5858",i[7].style.color="#fff"):(i[7].style.backgroundColor="#f0f0f0",i[7].style.color="#222")}}),e.gridOptions.api.setFloatingBottomRowData([t]),e.gridOptions.api.getFloatingBottomRow(0).canFlower=!0)})},e.prototype.warningExceededWaiting=function(e){if(e.data.branch_id&&e.data.w_l_percent>s.ProjectConfig.service.wait_long_alert_percent)return{backgroundColor:"#ff5858",color:"#fff"}},e.prototype.warningExceededServing=function(e){if(e.data.branch_id&&e.data.s_l_percent>s.ProjectConfig.service.serve_long_alert_percent)return{backgroundColor:"#ff5858",color:"#fff"}},e.prototype.focus=function(e){this.router.navigate(["../focus",e.branch_id],{relativeTo:this.route,queryParamsHandling:"merge"})},e.prototype.export=function(){var e={skipHeader:!1,allColumns:!0,suppressQuotes:!1,fileName:"overviewTransaction.csv"};console.log(this.gridOptions.api.getDataAsCsv(e)),this.gridOptions.api.exportDataAsCsv(e)},e}();ue=se([Object(o.Component)({selector:"ticket-summary",template:n("e8vb"),styles:[n("nGhO")],changeDetection:o.ChangeDetectionStrategy.OnPush}),le("design:paramtypes",["function"==typeof(de=void 0!==c.c&&c.c)&&de||Object,"function"==typeof(fe=void 0!==c.a&&c.a)&&fe||Object,"function"==typeof(pe=void 0!==s.MonitorNavService&&s.MonitorNavService)&&pe||Object,"function"==typeof(he=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&he||Object,"function"==typeof(me=void 0!==w&&w)&&me||Object])],ue);var de,fe,pe,he,me,ve=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ge=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ye=function(){function e(){this.data={}}return e}();ve([Object(o.Input)(),ge("design:type",Object)],ye.prototype,"data",void 0),ye=ve([Object(o.Component)({selector:"monitor-chart",template:n("1a9c"),styles:[n("1WP8")],changeDetection:o.ChangeDetectionStrategy.OnPush})],ye);var be=n("d62/"),_e=n("Sc8z"),xe=n("7eC3"),Se=n("kzni"),we=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ce=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ke=function(){function e(e){var t=this;this.mdDialog=e,this.data=[],this.curentPage=1,this.maxWaitingMinute=s.ProjectConfig.service.max_waiting_minute,this.gridOptions={rowHeight:35,rowSelection:"multiple",paginationPageSize:12,pagination:!0,onCellClicked:function(e){"img"===e.event.target.localName&&t.showDetails(e.data)}},this.waitingTime=_e.a,this.ticketIconNumber=xe.a,this.cellclass=["padding-10","center"]}return Object.defineProperty(e.prototype,"_data",{set:function(e){var t=this;this.data=e||[],this.data.forEach(function(e){return t.addHelperField(e)})},enumerable:!0,configurable:!0}),e.prototype.detailCellRenderer=function(){return'<img class="iconDetail" src="./assets/img/icon/play.png" style="cursor: pointer">'},e.prototype.noCellRenderer=function(e){return e.rowIndex+1},e.prototype.serviceCellRenderer=function(e){return e.data.service_id?s.CacheService.ServiceName(e.data.service_id):"Other"},e.prototype.printTimeCellRendered=function(e){return(new Se.a).transform(e.data.ctime)},e.prototype.showDetails=function(e){var t=new W.e;t.width="350px",t.data=e;this.mdDialog.open(ie,t)},e.prototype.addHelperField=function(e){e.service_id=e.service_id||e.services[0]},e}();we([Object(o.Input)("data"),Ce("design:type",Array),Ce("design:paramtypes",[Array])],ke.prototype,"_data",null),ke=we([Object(o.Component)({selector:"app-incomplete-ticket",template:n("FYg9"),styles:[n("IhVQ")]}),Ce("design:paramtypes",["function"==typeof(Re=void 0!==W.d&&W.d)&&Re||Object])],ke);var Re,je=n("NjUh"),Oe=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ne=function(){function e(e){var t=this;this.mdDialog=e,this.data=[],this.maxServingMinute=s.ProjectConfig.service.max_serving_minute,this.gridOptions={rowHeight:35,rowSelection:"multiple",getRowStyle:function(e){if("serving"===e.data.state)return{color:"#414042"}},onCellClicked:function(e){"img"===e.event.target.localName&&t.showDetails(e.data)}},this.servingTime=_e.a,this.ticketIconNumber=xe.a,this.cellclass=["padding-10","center"]}return Object.defineProperty(e.prototype,"_data",{set:function(e){var t=this;this.data=e||[],this.data.forEach(function(e){return t.addHelperField(e)})},enumerable:!0,configurable:!0}),e.prototype.addHelperField=function(e){if(e.state!=s.TicketStates.Serving){var t=e.getPrevTrack();if(t){if(e.state==s.TicketStates.Finished)return e.service_id=t.service_id,e.counter_id=t.counter_id,e.user_id=t.user_id,void(e.__stime=e.mtime-t.mtime);for(var n=e.tracks.length-1;n>=0;n--){var r=e.tracks[n];if(e.counter_id=e.counter_id||r.counter_id,e.user_id=e.user_id||r.counter_id,e.service_id=r.service_id,e.service_id)break}}}},e.prototype.detailCellRenderer=function(){return'<img class="iconDetail" src="./assets/img/icon/play.png" style="cursor: pointer">'},e.prototype.noCellRenderer=function(e){return e.rowIndex+1},e.prototype.serviceCellRenderer=function(e){return e.data.service_id?s.CacheService.ServiceName(e.data.service_id):"Other"},e.prototype.counterCellRenderer=function(e){return e.data.counter_id?s.CacheCounter.GetByID(e.data.counter_id).name:"Other"},e.prototype.userCellRenderer=function(e){return e.data.user_id&&s.CacheUsers.GetByID(e.data.user_id)?s.CacheUsers.GetByID(e.data.user_id).fullname:"Other"},e.prototype.printTimeCellRendered=function(e){return(new Se.a).transform(e.data.ctime)},e.prototype.waitingTimeCellRendered=function(e){return(new je.a).transform(e.data.mtime-e.data.ctime)},e.prototype.showDetails=function(e){var t=new W.e;t.width="350px",t.data=e;this.mdDialog.open(ie,t)},e}();Oe([Object(o.Input)("data"),Te("design:type",Array),Te("design:paramtypes",[Array])],Ne.prototype,"_data",null),Ne=Oe([Object(o.Component)({selector:"app-serving-ticket",template:n("rtl6"),styles:[n("r0EY")]}),Te("design:paramtypes",["function"==typeof(Pe=void 0!==W.d&&W.d)&&Pe||Object])],Ne);var Pe,Fe=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ae=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Le=function(){function e(e){var t=this;this.mdDialog=e,this.data=[],this.gridOptions={rowHeight:35,rowSelection:"multiple",paginationPageSize:12,pagination:!0,getRowStyle:function(e){return"finished"===e.data.state?{color:"#00a3ff"}:"cancelled"===e.data.state?{color:"#ff5858"}:void 0},onCellClicked:function(e){"img"===e.event.target.localName&&t.showDetails(e.data)}},this.ticketIconNumber=xe.a,this.cellclass=["padding-10","center"]}return Object.defineProperty(e.prototype,"_data",{set:function(e){var t=this;this.data=e||[],this.data.forEach(function(e){return t.addHelperField(e)})},enumerable:!0,configurable:!0}),e.prototype.addHelperField=function(e){if(e.state!=s.TicketStates.Serving){var t=e.getPrevTrack();if(t){if(e.state==s.TicketStates.Finished)return e.service_id=t.service_id,e.counter_id=t.counter_id,e.user_id=t.user_id,void(e.__stime=e.mtime-t.mtime);for(var n=e.tracks.length-1;n>=0;n--){var r=e.tracks[n];if(e.counter_id=e.counter_id||r.counter_id,e.user_id=e.user_id||r.counter_id,e.service_id=r.service_id,e.service_id)break}}}},e.prototype.detailCellRenderer=function(e){return e.data?'<img class="iconDetail" src="./assets/img/icon/play.png" style="cursor: pointer">':""},e.prototype.noCellRenderer=function(e){return e.rowIndex+1},e.prototype.serviceCellRenderer=function(e){return e.data.service_id?s.CacheService.ServiceName(e.data.service_id):""},e.prototype.counterCellRenderer=function(e){return e.data.counter_id?s.CacheCounter.GetByID(e.data.counter_id).name:""},e.prototype.userCellRenderer=function(e){return e.data.user_id&&s.CacheUsers.GetByID(e.data.user_id)?s.CacheUsers.GetByID(e.data.user_id).fullname:""},e.prototype.printTimeCellRendered=function(e){return(new Se.a).transform(e.data.ctime)},e.prototype.waitingTimeCellRendered=function(e){return(new je.a).transform(e.data.mtime-e.data.ctime)},e.prototype.servingTimeCellRenderer=function(e){if("finished"===e.data.state){return(new je.a).transform(e.data.__stime)}if("cancelled"===e.data.state)return"00:00:00"},e.prototype.showDetails=function(e){var t=new W.e;t.width="350px",t.data=e;this.mdDialog.open(ie,t)},e}();Fe([Object(o.Input)("data"),Ae("design:type",Array),Ae("design:paramtypes",[Array])],Le.prototype,"_data",null),Le=Fe([Object(o.Component)({selector:"app-completed-ticket",template:n("l+7O")}),Ae("design:paramtypes",["function"==typeof(Me=void 0!==W.d&&W.d)&&Me||Object])],Le);var Me,De=n("IRd5"),Ge=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Be=c.d.forChild([{path:"",component:B,children:[{path:"",pathMatch:"full",redirectTo:"summary"},{path:"summary",component:ue},{path:"focus/:branch_id",component:V}]}]),$e=function(){function e(){}return e}();$e=Ge([Object(o.NgModule)({imports:[Be,a.SharedModule,be.a,W.m,De.AgGridModule.withComponents([_e.a,xe.a])],providers:[M],declarations:[B,V,ie,ue,ye,ke,Ne,Le],entryComponents:[ie]})],$e);var Ie=n("9XJH"),Ee=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ue=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},We=function(){function e(e){this.navService=e}return e.prototype.refresh=function(){this.navService.Refresh$.Next()},e}();We=Ee([Object(o.Component)({selector:"monitor-filter",template:n("K9/d"),styles:[n("Uajz")]}),Ue("design:paramtypes",["function"==typeof(He=void 0!==Ie.b&&Ie.b)&&He||Object])],We);var He,Ke=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ze=function(){function e(){}return e}();ze=Ke([Object(o.NgModule)({imports:[a.SharedModule,a.BranchModule],declarations:[We],exports:[We]})],ze);var Ve=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},qe=function(){function e(){this.hidden=!0}return e}();qe=Ve([Object(o.Component)({selector:"app-monitor",template:n("Z9wd"),encapsulation:o.ViewEncapsulation.None})],qe);var Qe=n("9rJr"),Ze=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Je=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ye=function(){function e(e,t,n,r){this.navService=e,this.filterService=t,this.summaryService=n,this.socket=r,this.isFocus$=this.filterService.Data$.map(function(e){return e.focus.length>0})}return e.prototype.ngOnInit=function(){this.socket.onInit()},e.prototype.ngOnDestroy=function(){this.socket.onDestroy()},e}();Ye=Ze([Object(o.Component)({selector:"monitor-device",template:n("UWwu")}),Je("design:paramtypes",["function"==typeof(Xe=void 0!==l.a&&l.a)&&Xe||Object,"function"==typeof(et=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&et||Object,"function"==typeof(tt=void 0!==Qe.MonitorSummaryService&&Qe.MonitorSummaryService)&&tt||Object,"function"==typeof(nt=void 0!==Qe.MonitorDeviceSocket&&Qe.MonitorDeviceSocket)&&nt||Object])],Ye);var Xe,et,tt,nt,rt=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},it=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ot=function(){function e(e,t,n,r,i){this.navService=e,this.route=t,this.router=n,this.filterService=r,this.deviceService=i,this.box$=this.deviceService.Box$,this.counters$=this.deviceService.Box$.map(function(e){return e.counters.ToArray()}),this.kiosks$=this.deviceService.Box$.map(function(e){return e.kiosks.ToArray()})}return e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){e.deviceService.Branch$.next(t.branch_id)}),this.navService.Refresh$.ExclusiveSubscribe(function(t){var n=e.route.snapshot.params.branch_id;e.deviceService.Branch$.next(n)})},e.prototype.ngOnDestroy=function(){},e.prototype.goBackBranchList=function(){this.router.navigate(["../../summary_device"],{relativeTo:this.route,queryParamsHandling:"preserve"})},e}();ot=rt([Object(o.Component)({selector:"focus-on-branch",template:n("zhgK"),styles:[n("5KKJ")]}),it("design:paramtypes",["function"==typeof(at=void 0!==l.a&&l.a)&&at||Object,"function"==typeof(ct=void 0!==c.a&&c.a)&&ct||Object,"function"==typeof(st=void 0!==c.c&&c.c)&&st||Object,"function"==typeof(lt=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&lt||Object,"function"==typeof(ut=void 0!==Qe.MonitorFocusService&&Qe.MonitorFocusService)&&ut||Object])],ot);var at,ct,st,lt,ut,dt=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ft=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pt=function(){function e(e,t,n,r,i){this.navService=e,this.filterService=t,this.router=n,this.route=r,this.deviceService=i,this.box$=this.deviceService.Box$,this.records$=this.box$.map(function(e){return e.ToArray()})}return e.prototype.ngOnInit=function(){var e=this;this.navService.Refresh$.ExclusiveSubscribe(function(t){e.deviceService.Branches$.next(e.filterService.GetStores())})},e.prototype.focus=function(e){this.router.navigate(["../focus",e.branch_id],{relativeTo:this.route,queryParamsHandling:"merge"})},e}();pt=dt([Object(o.Component)({selector:"device-summary",template:n("htx2"),styles:[n("Ndxe")],changeDetection:o.ChangeDetectionStrategy.OnPush}),ft("design:paramtypes",["function"==typeof(ht=void 0!==s.MonitorNavService&&s.MonitorNavService)&&ht||Object,"function"==typeof(mt=void 0!==s.MonitorFilterService&&s.MonitorFilterService)&&mt||Object,"function"==typeof(vt=void 0!==c.c&&c.c)&&vt||Object,"function"==typeof(gt=void 0!==c.a&&c.a)&&gt||Object,"function"==typeof(yt=void 0!==Qe.MonitorSummaryService&&Qe.MonitorSummaryService)&&yt||Object])],pt);var ht,mt,vt,gt,yt,bt=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_t=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xt=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();bt([Object(o.Input)(),_t("design:type",String)],xt.prototype,"name",void 0),bt([Object(o.Input)(),_t("design:type",Array)],xt.prototype,"data",void 0),xt=bt([Object(o.Component)({selector:"app-category",template:n("MiKl"),styles:[n("mkpt")]}),_t("design:paramtypes",[])],xt);var St=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},wt=c.d.forChild([{path:"",component:Ye,children:[{path:"",pathMatch:"full",redirectTo:"summary_device"},{path:"summary_device",component:pt},{path:"focus/:branch_id",component:ot}]}]),Ct=function(){function e(){}return e}();Ct=St([Object(o.NgModule)({imports:[wt,a.SharedModule,W.m],providers:[Qe.monitorServiceProviders],declarations:[Ye,ot,pt,xt]})],Ct);var kt=n("S7N+"),Rt=[{path:"",pathMatch:"full",redirectTo:"ticket"},{path:"ticket",loadChildren:r},{path:"device",loadChildren:i}],jt=c.d.forChild([{path:"",component:qe,canActivate:[kt.SessionValidationGuard],children:Rt}]),Ot=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Tt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nt=function(){function e(){}return e.prototype.ngOnInit=function(){},e}();Nt=Ot([Object(o.Component)({selector:"app-root",template:"\n    <router-outlet></router-outlet>\n    "}),Tt("design:paramtypes",[])],Nt);var Pt=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ft=function(){function e(){}return e}();Ft=Pt([Object(o.NgModule)({imports:[a.SharedModule,jt,ze],declarations:[Nt,qe],providers:[Ie.c],bootstrap:[Nt]})],Ft);t.default=Ft},MiKl:function(e,t){e.exports='<h2>{{name}}</h2>\r\n<table class="tableCtrl">\r\n    <thead class="">\r\n        <th i18n>Store</th>\r\n        <th i18n>Name</th>\r\n        <th i18n>State</th>\r\n        <th i18n>Online At</th>\r\n        <th i18n>Last Active At</th>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor="let s of data" class="branchSummary">\r\n            <td> {{s.branch_id | branchName}} </td>\r\n            <td> {{s.entity_name}}</td>\r\n            <td> {{s.status}} </td>\r\n            <td> {{s.start_at | localDateAndTime}} </td>\r\n            <td>\r\n                <span [class.hide]="s.is_active">{{s.end_at | localDateAndTime}} </span>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>'},Ndxe:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#summaryComponent .branchSummary{cursor:pointer}#summaryComponent .branchSummary:hover{background-color:#f4f4f4}#summaryComponent .warning{background-color:#ff5858;color:#fff;font-weight:400}",""]),e.exports=e.exports.toString()},PwNK:function(e,t,n){"use strict";function r(e){return this.lift(new l(e))}var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n("RdI5"),a=n("XRvs"),c=n("yW9Z"),s=n("ktfo");t.audit=r;var l=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){e.call(this,t),this.durationSelector=n,this.hasValue=!1}return i(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=o.tryCatch(this.durationSelector)(e);if(t===a.errorObject)this.destination.error(a.errorObject.e);else{var n=s.subscribeToResult(this,t);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},t.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(c.OuterSubscriber)},UWwu:function(e,t){e.exports='<app-env-sub-module i18n-title title="Device"></app-env-sub-module>\r\n<router-outlet></router-outlet>'},Uajz:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},WBAt:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("/oeL"),i=n("7xF8"),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=function(){function e(){this.Refresh$=new i.ExclusiveEventEmitter}return e}();a=o([Object(r.Injectable)()],a)},WmlK:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"#modal_monitor_detailTicket .modalContent table{width:100%;border-spacing:0}#modal_monitor_detailTicket .modalContent table th{font-weight:100;padding:5px 10px;text-align:left}#modal_monitor_detailTicket .modalContent .cusDetail{width:50%;margin:auto;margin-top:10px}#modal_monitor_detailTicket .modalContent button{margin:20px 0;float:right}",""]),e.exports=e.exports.toString()},Z9wd:function(e,t){e.exports='<app-env-module i18n-title title="Monitor"></app-env-module>\r\n<div id="monitor" fxLayout="column" style="overflow: hidden">\r\n    <app-header fxFlex="5%" style="z-index: 2"></app-header>\r\n\r\n    <top-nav fxFlex="5%" style="z-index: 1"></top-nav>\r\n\r\n    <div fxLayout="row" fxFlex="90%">\r\n        <div [fxFlex]="hideFilter? \'60px\':\'250px\'" class="leftFilter">\r\n            <monitor-filter style="padding-top: 50px; height: 100%"></monitor-filter>\r\n        </div>\r\n\r\n        <div fxFlex style="overflow: auto;" class="mainContent">\r\n            <div class="main_miraway">\r\n                <router-outlet></router-outlet>\r\n            </div>\r\n            <footer></footer>\r\n        </div>\r\n    </div>\r\n</div>'},abQ8:function(e,t){e.exports='<ng-template #loading>\r\n    <div class="spinner">\r\n        <mat-spinner></mat-spinner>\r\n    </div>\r\n</ng-template>\r\n\r\n<div id="focusComponent" *ngIf="box$ | async; else loading; let box; ">\r\n    <h2 class="header uppercase"> {{box.branch?.name}} </h2>\r\n    <div class="nav">\r\n        <button class="btnClear btnMargin uppercase" (click)="goBackBranchList()" i18n>Go Back</button>\r\n    </div>\r\n    <div class="overview border padding-20-40" fxLayout="row" fxLayoutGap="20%">\r\n        \x3c!-- General Information --\x3e\r\n        <div fxLayout="column" fxFlex class="padding_monitor">\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Branch</span>\r\n                <span>{{box.parent?.name}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Administrator</span>\r\n                <span>{{box.users.admin[0]?.fullname}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Manager</span>\r\n                <span>{{box.users.manager[0]?.fullname}}</span>\r\n            </div>\r\n            <div *ngIf="box.counter_activity; let c">\r\n                <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                    <span i18n>Total Counter</span>\r\n                    <span>{{c.total}}</span>\r\n                </div>\r\n                <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                    <span i18n>Online</span>\r\n                    <span>{{c.on}}</span>\r\n                </div>\r\n                <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                    <span i18n>Offline</span>\r\n                    <span>{{c.off}}</span>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="box.summary; let s" fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Printed Ticket</span>\r\n                <span>{{s.printed}}</span>\r\n            </div>\r\n        </div>\r\n        \x3c!-- Ticket --\x3e\r\n        <div *ngIf="box.summary; let s" fxLayout="column" fxFlex class="padding_monitor">\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Number of waiting tickets</span>\r\n                <span>{{s.waiting}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Number of tickets being served</span>\r\n                <span>{{s.serving}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Number of tickets already served</span>\r\n                <span>{{s.finished}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Number of cancelled tickets</span>\r\n                <span>{{s.cancelled}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Exceeded Waiting Time Transaction</span>\r\n                <span>{{s.wait_long}}</span>\r\n            </div>\r\n            <div fxLayout="row" fxLayoutAlign="space-between none">\r\n                <span i18n>Exceeded Serving Time Transaction</span>\r\n                <span>{{s.serve_long}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="divider margin-30-0"></div>\r\n\r\n    \x3c!-- Chart --\x3e\r\n    <div class="border">\r\n        <monitor-chart [data]="box.summary"></monitor-chart>\r\n    </div>\r\n\r\n    \x3c!-- More --\x3e\r\n\r\n\r\n    <app-incomplete-ticket [data]="incomplete$ | async"></app-incomplete-ticket>\r\n    <app-serving-ticket [data]="serving$ | async"></app-serving-ticket>\r\n    <app-completed-ticket [data]="completed$ | async"></app-completed-ticket>\r\n</div>'},cS7k:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("3eyR"),i=function(){function e(e){this._b=e,this.branch_id=this._b.branch_id,this.kiosks=new r.a(this.branch_id,r.a.Categories.Kiosk,this._b.kiosks),this.counters=new r.a(this.branch_id,r.a.Categories.Counter,this._b.counters)}return e.prototype.UpdateActivity=function(e){if(e)switch(e.cat){case r.a.Categories.Kiosk:this.kiosks.Replace(e);break;case r.a.Categories.Counter:this.counters.Replace(e)}},e}()},e8vb:function(e,t){e.exports='<div id="summaryComponent">\r\n    <h2 class="header uppercase" i18n>Overview</h2>\r\n    <div class="nav">\r\n        <button class="btnFill btnMargin uppercase" appSafeNav="/monitor/ticket" i18n>Transaction</button>\r\n        <button class="btnClear btnMargin uppercase" appSafeNav="/monitor/device" i18n>Device</button>\r\n    </div>\r\n\r\n    <ag-grid-angular #agGrid style="height: 65vh; background-color: #fff" [gridOptions]="gridOptions" [rowData]="records$ | async"\r\n        class="ag-fresh tableCtrl" enableColResize enableSorting>\r\n\r\n        <ag-grid-column headerName="Store" field="store" [width]="200" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Print Ticket" field="printed" [width]="100" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Waiting Ticket" field="waiting" [width]="100" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Serving Ticket" field="serving" [width]="100" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Served Ticket" field="finished" [width]="100" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Cancelled Ticket" field="cancelled" [width]="100" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Exceeded Waiting Time Transaction" field="exceededWaitingCell" [width]="215" cellClass="padding-10"\r\n            [cellStyle]="warningExceededWaiting" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Exceeded Serving Time Transaction" field="exceededServingCell" [width]="215" cellClass="padding-10"\r\n            [cellStyle]="warningExceededServing" i18n-headerName></ag-grid-column>\r\n        \r\n        <ag-grid-column headerName="Waiting Ticket Under 5m" field="wai_under_5" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket 5-10m" field="wai_bw_5_10" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket 10-15m" field="wai_bw_10_15"cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket 15-20m" field="wai_bw_15_20" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket 20-25m" field="wai_bw_20_25" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket 25-30m" field="wai_bw_25_30" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Waiting Ticket Over 30m" field="wai_over_30" cellClass="padding-10" i18n-headerName></ag-grid-column>\r\n\r\n    </ag-grid-angular>\r\n\r\n    <div fxLayout="row">\r\n        <div fxFlex="80%"></div>\r\n        <button fxFlex class="btnClear uppercase margin-20-10" (click)="export()" i18n>Export to csv</button>\r\n    </div>\r\n\r\n    <div class="divider margin-20-0"></div>\r\n    <div *ngIf="total$ | async; else loading; let total" class="border">\r\n        <monitor-chart [data]="total"></monitor-chart>\r\n    </div>\r\n    <ng-template #loading>\r\n        <div class="spinner">\r\n            <mat-spinner></mat-spinner>\r\n        </div>\r\n    </ng-template>\r\n</div>'},"gl+N":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("zco0"),i=n("wKLO"),o=n("3eyR"),a=function(){function e(e){this._b=e,this.branch=this._b.branch,this.branch_id=this.branch.id,this.parent=this._b.parent,this.counter_activity=new r.a(this._b.counter_activity),this.users=new o.c(this._b.users),this.tickets=new o.b(this._b.tickets),this.services=this._b.services,this.summary=new i.a(this._b.summary)}return e.prototype.UpdateActivitySummary=function(e){if(e){var t=new r.a(e);t.category==this.counter_activity.category&&(this.counter_activity=t)}},e.prototype.UpdateTicketSummary=function(e){if(e){var t=new i.a(e);t.branch_id==this.branch_id&&(this.summary=t)}},e.prototype.UpdateTicket=function(e){this.tickets.Replace(e)},e}()},htx2:function(e,t){e.exports='<div id="summaryComponent">\r\n    <h2 class="header uppercase" i18n>Overview</h2>\r\n    <div class="nav">\r\n        <button class="btnClear btnMargin uppercase" appSafeNav="/monitor/ticket" i18n>Transaction</button>\r\n        <button class="btnFill btnMargin uppercase" appSafeNav="/monitor/device" i18n>Device</button>\r\n    </div>\r\n    <ng-template #loading>\r\n        <div class="spinner">\r\n            <mat-spinner></mat-spinner>\r\n        </div>\r\n    </ng-template>\r\n    <table class="tableCtrl" *ngIf="records$ | async; else loading; let records">\r\n        <thead class="">\r\n            <th i18n>Store</th>\r\n            <th i18n>Counter</th>\r\n            <th i18n>Counter On</th>\r\n            <th i18n>Counter Off</th>\r\n            <th i18n>Kiosk</th>\r\n            <th i18n>Kiosk On</th>\r\n            <th i18n>Kiosk Off</th>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let s of records" (click)="focus(s)" class="branchSummary">\r\n                <td> {{s.branch_id | branchName}} </td>\r\n                <td> {{s.counter.total}}</td>\r\n                <td> {{s.counter.on}} </td>\r\n                <td> {{s.counter.off}} </td>\r\n                <td> {{s.kiosk.total}} </td>\r\n                <td> {{s.kiosk.on}} </td>\r\n                <td> {{s.kiosk.off}} </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>'},iAxl:function(e,t,n){"use strict";var r=n("xpjA");n.o(r,"AppSocket")&&n.d(t,"AppSocket",function(){return r.AppSocket}),n.o(r,"AppStorage")&&n.d(t,"AppStorage",function(){return r.AppStorage}),n.o(r,"CacheBranch")&&n.d(t,"CacheBranch",function(){return r.CacheBranch}),n.o(r,"CacheCounter")&&n.d(t,"CacheCounter",function(){return r.CacheCounter}),n.o(r,"CacheService")&&n.d(t,"CacheService",function(){return r.CacheService}),n.o(r,"CacheUsers")&&n.d(t,"CacheUsers",function(){return r.CacheUsers}),n.o(r,"GlobalActivitySummary")&&n.d(t,"GlobalActivitySummary",function(){return r.GlobalActivitySummary}),n.o(r,"GlobalTicketSummary")&&n.d(t,"GlobalTicketSummary",function(){return r.GlobalTicketSummary}),n.o(r,"HttpServiceGenerator")&&n.d(t,"HttpServiceGenerator",function(){return r.HttpServiceGenerator}),n.o(r,"LogService")&&n.d(t,"LogService",function(){return r.LogService}),n.o(r,"MonitorFilterService")&&n.d(t,"MonitorFilterService",function(){return r.MonitorFilterService}),n.o(r,"MonitorNavService")&&n.d(t,"MonitorNavService",function(){return r.MonitorNavService}),n.o(r,"ProjectConfig")&&n.d(t,"ProjectConfig",function(){return r.ProjectConfig}),n.o(r,"RuntimeEnvironment")&&n.d(t,"RuntimeEnvironment",function(){return r.RuntimeEnvironment}),n.o(r,"TicketStates")&&n.d(t,"TicketStates",function(){return r.TicketStates}),n.o(r,"TimerComopnent")&&n.d(t,"TimerComopnent",function(){return r.TimerComopnent});var i=n("9XJH");n.d(t,"MonitorFilterService",function(){return i.a}),n.d(t,"MonitorNavService",function(){return i.b});var o=n("7xF8");n.o(o,"AppSocket")&&n.d(t,"AppSocket",function(){return o.AppSocket}),n.o(o,"AppStorage")&&n.d(t,"AppStorage",function(){return o.AppStorage}),n.o(o,"CacheBranch")&&n.d(t,"CacheBranch",function(){return o.CacheBranch}),n.o(o,"CacheCounter")&&n.d(t,"CacheCounter",function(){return o.CacheCounter}),n.o(o,"CacheService")&&n.d(t,"CacheService",function(){return o.CacheService}),n.o(o,"CacheUsers")&&n.d(t,"CacheUsers",function(){return o.CacheUsers}),n.o(o,"GlobalActivitySummary")&&n.d(t,"GlobalActivitySummary",function(){return o.GlobalActivitySummary}),n.o(o,"GlobalTicketSummary")&&n.d(t,"GlobalTicketSummary",function(){return o.GlobalTicketSummary}),n.o(o,"HttpServiceGenerator")&&n.d(t,"HttpServiceGenerator",function(){return o.HttpServiceGenerator}),n.o(o,"LogService")&&n.d(t,"LogService",function(){return o.LogService}),n.o(o,"ProjectConfig")&&n.d(t,"ProjectConfig",function(){return o.ProjectConfig}),n.o(o,"RuntimeEnvironment")&&n.d(t,"RuntimeEnvironment",function(){return o.RuntimeEnvironment}),n.o(o,"TicketStates")&&n.d(t,"TicketStates",function(){return o.TicketStates}),n.o(o,"TimerComopnent")&&n.d(t,"TimerComopnent",function(){return o.TimerComopnent})},iW3q:function(e,t){e.exports='<app-env-sub-module i18n-title title="Transaction"></app-env-sub-module>\r\n<router-outlet></router-outlet>'},km5z:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("/oeL"),i=n("q6Z3"),o=n("iAxl"),a=n("xpjA"),c=n("0imh"),s=(n.n(c),n("LEug")),l=(n.n(s),n("+zVg")),u=(n.n(l),n("qNQE")),d=(n.n(u),this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t){var n=this;this.socket=e,this.navService=t,this.initialFocus$=this.socket.Connected$.switchMap(function(e){return n.Branch$.switchMap(function(e){return n.socket.Send("/focus",{branch_id:e})})}).share(),this.activityUpdate$=this.socket.RxEvent("/activity/update"),this.Box$=this.initialFocus$.switchMap(function(e){var t=new a.BoxActivity(e),r=n.activityUpdate$.startWith(null).map(function(e){t.UpdateActivity(e)});return Object(s.merge)(Object(l.of)(null),r).map(function(e){return t})}).auditTime(1e3).share(),this.Branch$=new c.ReplaySubject(1)}return e.prototype.Unfocus=function(){this.socket.Send("/focus",{}).subscribe()},e}();p=d([Object(r.Injectable)(),f("design:paramtypes",["function"==typeof(h=void 0!==i.a&&i.a)&&h||Object,"function"==typeof(m=void 0!==o.MonitorNavService&&o.MonitorNavService)&&m||Object])],p);var h,m},"l+7O":function(e,t){e.exports='<div id="completed">\r\n    <h3 i18n>Served Tickets</h3>\r\n    \r\n    <ag-grid-angular #agGrid style="height: 65vh; background-color: #fff" [gridOptions]="gridOptions" [rowData]="data" class="ag-fresh tableCtrl"\r\n        enableColResize enableSorting>\r\n\r\n        <ag-grid-column headerName="No." [cellRenderer]="noCellRenderer" [width]="50" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Service" [cellRenderer]="serviceCellRenderer" [width]="230" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Counter" [cellRenderer]="counterCellRenderer" [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Teller" [cellRenderer]="userCellRenderer" [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Ticket Number" [cellRendererFramework]="ticketIconNumber" \r\n            [cellRendererParams]="{width: \'15px\'}"\r\n            [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Customer" field="customer.full_name" [width]="200" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Print Time" [cellRenderer]="printTimeCellRendered" [width]="95" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Waiting Time" [cellRenderer]="waitingTimeCellRendered" \r\n            [width]="95" \r\n            [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Serving Time" [cellRenderer]="servingTimeCellRenderer" \r\n            [cellRendererParams]="{timeWarning: maxServingMinute}" [width]="95" \r\n            [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Detail" [cellClass]="cellclass" [cellRenderer]="detailCellRenderer" \r\n            [width]="70" i18n-headerName></ag-grid-column>\r\n\r\n    </ag-grid-angular>\r\n</div>'},lrsS:function(e,t,n){"use strict";var r=n("7xF8");!function(){function e(e){e=e||{},this.branch_id=e.branch_id,this.kiosk_on=e.kiosk_count.on,this.kiosk_off=e.kiosk_count.off,this.counter_on=e.counter_count.on,this.counter_off=e.counter_count.off;r.CacheBranch.GetByID(this.branch_id)}Object.defineProperty(e.prototype,"total_counter",{get:function(){return this.counter_on+this.counter_off},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"total_kiosk",{get:function(){return this.kiosk_on+this.kiosk_off},enumerable:!0,configurable:!0})}()},mkpt:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},nGhO:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},pMQG:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("/oeL"),i=n("iAxl"),o=n("q6Z3"),a=n("0imh"),c=(n.n(a),n("LEug")),s=(n.n(c),n("+zVg")),l=(n.n(s),n("HUu4")),u=(n.n(l),n("YFUQ")),d=(n.n(u),this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}),f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){var t=this;this.socket=e,this.initialSummary$=this.socket.Connected$.switchMap(function(e){return t.Branches$.switchMap(function(e){return t.socket.Send("/summary",{branches:e})})}).share(),this.activitySummaryUpdate$=this.socket.RxEvent("/activity/summary/update"),this.Box$=this.initialSummary$.switchMap(function(e){var n=new i.GlobalActivitySummary;n.Refresh(e);var r=t.activitySummaryUpdate$.map(function(e){n.Replace(e)});return Object(c.merge)(Object(s.of)(null),r).map(function(e){return n})}).share(),this.Branches$=new a.ReplaySubject(1)}return e}();p=d([Object(r.Injectable)(),f("design:paramtypes",["function"==typeof(h=void 0!==o.a&&o.a)&&h||Object])],p);var h},pkLr:function(e,t,n){"use strict";var r=n("bKpL"),i=n("PwNK");r.Observable.prototype.audit=i.audit},q6Z3:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("/oeL"),i=n("iAxl"),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(e){function t(t,n){var r=e.call(this,t.Platform.WebSocket+"/room/monitor/join",t.Debug.socket,n)||this;return r.env=t,r}return o(t,e),t.prototype.onInit=function(){e.prototype.Connect.call(this,{monit_type:"device"}),this.KeepAlive()},t.prototype.onDestroy=function(){this.Terminate()},t}(i.AppSocket);s=a([Object(r.Injectable)(),c("design:paramtypes",["function"==typeof(l=void 0!==i.RuntimeEnvironment&&i.RuntimeEnvironment)&&l||Object,"function"==typeof(u=void 0!==i.LogService&&i.LogService)&&u||Object])],s);var l,u},qZnt:function(e,t,n){"use strict";var r=n("7xF8");!function(){function e(e){e=e||{},this.branch_id=e.branch_id,this.waiting=+e.waiting||0,this.serving=+e.serving||0,this.missed=+e.missed||0,this.cancelled=+e.cancelled||0,this.finished=+e.finished||0,this.wait_long=+e.wait_long||0,this.s_l=+e.s_l||0;var t=r.CacheBranch.GetByID(this.branch_id);t&&(this.parent_id=t.parent)}Object.defineProperty(e.prototype,"printed",{get:function(){return this.waiting+this.serving+this.cancelled+this.finished+this.missed},enumerable:!0,configurable:!0}),e.Aggregate=function(t){var n=new e;return t.forEach(function(e){n.waiting+=e.waiting,n.serving+=e.serving,n.missed+=e.missed,n.cancelled+=e.cancelled,n.finished+=e.finished,n.wait_long+=e.wait_long,n.s_l+=e.s_l}),n},Object.defineProperty(e.prototype,"wait_standard",{get:function(){return this.waiting-this.wait_long},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serve_standard",{get:function(){return this.serving-this.s_l},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wl_percent",{get:function(){return this.waiting?this.wait_long/this.waiting*100:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"s_l_percent",{get:function(){return this.serving?this.s_l/this.serving*100:0},enumerable:!0,configurable:!0})}()},r0EY:function(e,t,n){t=e.exports=n("Vmy+")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},rtl6:function(e,t){e.exports='<div id="serving">\r\n    <h3 i18n>Serving Tickets</h3>\r\n\r\n    \x3c!--<table class="tableCtrl">\r\n        <thead>\r\n            <th i18n="Ordinal Number">No.</th>\r\n            <th i18n>Service</th>\r\n            <th i18n>Counter</th>\r\n            <th i18n>User</th>\r\n            <th i18n>Ticket Number</th>\r\n            <th i18n>Customer</th>\r\n            <th i18n>Print Time</th>\r\n            <th i18n>Waiting Time</th>\r\n            <th i18n>Serving Time</th>\r\n            <th i18n>Detail</th>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let t of data; let i = index" [ngClass]="{\'cancelled\': t.state === \'cancelled\', \'serving\': t.state === \'serving\', \'serveDone\': t.state === \'finished\'}">\r\n                <td> {{i + 1}} </td>\r\n                <td> {{t.service_id | serviceName}} </td>\r\n                <td> {{t.counter_id | counterName}}</td>\r\n                <td> {{t.user_id | userFullName}}</td>\r\n                <td>\r\n                    <ticket-icon [ticket]="t"></ticket-icon>\r\n                    <span>{{t.cnum}} </span>\r\n                </td>\r\n                <td> {{t.customer?.full_name }} </td>\r\n                <td> {{t.ctime | localDayTime}}</td>\r\n                <td> {{t.mtime - t.ctime | timeDuration}} </td>\r\n                <td>\r\n                    <timer *ngIf="t.state === \'serving\'" [start]="t.mtime" [timeWarning]="maxServingMinute"></timer>\r\n                    <span *ngIf="t.state === \'finished\'"> {{t.__stime | timeDuration}}</span>\r\n                    <span *ngIf="t.state === \'cancelled\'"> 00:00:00 </span>\r\n                </td>\r\n                <td>\r\n                    <span (click)="showDetails(t)">\r\n                        <img class="iconDetail" src="./assets/img/icon/play.png" alt="Search" style="cursor: pointer">\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>--\x3e\r\n\r\n\r\n    \r\n    <ag-grid-angular #agGrid style="height: 25vh; background-color: #fff" [gridOptions]="gridOptions" [rowData]="data" class="ag-fresh tableCtrl"\r\n        enableColResize enableSorting>\r\n\r\n        <ag-grid-column headerName="No." [cellRenderer]="noCellRenderer" [width]="50" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Service" [cellRenderer]="serviceCellRenderer" [width]="230" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="Counter" [cellRenderer]="counterCellRenderer" [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n        <ag-grid-column headerName="User" [cellRenderer]="userCellRenderer" [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Ticket Number" [cellRendererFramework]="ticketIconNumber" \r\n            [cellRendererParams]="{width: \'15px\'}"\r\n            [width]="100" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Customer" field="customer.full_name" [width]="200" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Print Time" [cellRenderer]="printTimeCellRendered" [width]="95" [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Waiting Time" [cellRenderer]="waitingTimeCellRendered" \r\n            [width]="95" \r\n            [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Serving Time" [cellRendererFramework]="servingTime" \r\n            [cellRendererParams]="{timeWarning: maxServingMinute}" [width]="95" \r\n            [cellClass]="cellclass" i18n-headerName></ag-grid-column>\r\n\r\n        <ag-grid-column headerName="Detail" [cellClass]="cellclass" [cellRenderer]="detailCellRenderer" \r\n            [width]="70" i18n-headerName></ag-grid-column>\r\n\r\n    </ag-grid-angular>\r\n</div>'},wKLO:function(e,t,n){"use strict";function r(e,t){return 0==t?0:Math.round(e/t*1e4)/100}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var i=function(){function e(e){this._s=e,this.branch_id=this._s.bid,this.waiting=this._s.wai,this.serving=this._s.ser,this.finished=this._s.fin,this.missed=this._s.mis,this.cancelled=this._s.can,this.wait_long=this._s.wai_l,this.wait_standard=this._s.wai-this._s.wai_l,this.serve_long=this._s.ser_l,this.serve_standard=this._s.ser-this._s.ser_l,this.s_l_percent=r(this.serve_long,this.serving),this.w_l_percent=r(this.wait_long,this.waiting),this.printed=this.waiting+this.serving+this.finished+this.missed+this.cancelled,this.wai_bw_5_10=this._s.wai_bw_5_10,this.wai_bw_10_15=this._s.wai_bw_10_15,this.wai_bw_15_20=this._s.wai_bw_15_20,this.wai_bw_20_25=this._s.wai_bw_20_25,this.wai_bw_25_30=this._s.wai_bw_25_30,this.wai_over_30=this._s.wai_over_30,this.wai_under_5=this._s.wai_under_5}return e}(),o=function(){function e(){this.boxes=new Map}return e.prototype.Refresh=function(e){var t=this;e&&e.forEach(function(e){return t.Replace(e)})},e.prototype.Replace=function(e){if(e){var t=new i(e);this.boxes.set(t.branch_id,t)}},e.prototype.ToArray=function(){return Array.from(this.boxes.values())},e.prototype.GetTotal=function(){var e=0,t=0,n=0,r=0,o=0,a=0,c=0,s=0,l=0,u=0,d=0,f=0,p=0,h=0,m=0,v=0;return this.boxes.forEach(function(i){e+=i.waiting,t+=i.serving,n+=i.finished,r+=i.missed,o+=i.cancelled,a+=i.wait_long,c+=i.wait_standard,s+=i.serve_long,l+=i.serve_standard,u+=i.wai_bw_5_10,d+=i.wai_bw_10_15,f+=i.wai_bw_15_20,p+=i.wai_bw_20_25,h+=i.wai_bw_25_30,m+=i.wai_over_30,v+=i.wai_under_5}),new i({bid:"",wai:e,ser:t,fin:n,can:o,mis:r,wai_l:a,wait_standard:c,ser_l:s,serve_standard:l,wai_bw_5_10:u,wai_bw_10_15:d,wai_bw_15_20:f,wai_bw_20_25:p,wai_bw_25_30:h,wai_over_30:m,wai_under_5:v})},e}()},xpjA:function(e,t,n){"use strict";var r=(n("qZnt"),n("Ic5U"));n.n(r);n.o(r,"AppSocket")&&n.d(t,"AppSocket",function(){return r.AppSocket}),n.o(r,"AppStorage")&&n.d(t,"AppStorage",function(){return r.AppStorage}),n.o(r,"BoxActivity")&&n.d(t,"BoxActivity",function(){return r.BoxActivity}),n.o(r,"BoxTicket")&&n.d(t,"BoxTicket",function(){return r.BoxTicket}),n.o(r,"CacheBranch")&&n.d(t,"CacheBranch",function(){return r.CacheBranch}),n.o(r,"CacheCounter")&&n.d(t,"CacheCounter",function(){return r.CacheCounter}),n.o(r,"CacheService")&&n.d(t,"CacheService",function(){return r.CacheService}),n.o(r,"CacheUsers")&&n.d(t,"CacheUsers",function(){return r.CacheUsers}),n.o(r,"GlobalActivitySummary")&&n.d(t,"GlobalActivitySummary",function(){return r.GlobalActivitySummary}),n.o(r,"GlobalTicketSummary")&&n.d(t,"GlobalTicketSummary",function(){return r.GlobalTicketSummary}),n.o(r,"HttpServiceGenerator")&&n.d(t,"HttpServiceGenerator",function(){return r.HttpServiceGenerator}),n.o(r,"LogService")&&n.d(t,"LogService",function(){return r.LogService}),n.o(r,"MonitorFilterService")&&n.d(t,"MonitorFilterService",function(){return r.MonitorFilterService}),n.o(r,"MonitorNavService")&&n.d(t,"MonitorNavService",function(){return r.MonitorNavService}),n.o(r,"ProjectConfig")&&n.d(t,"ProjectConfig",function(){return r.ProjectConfig}),n.o(r,"RuntimeEnvironment")&&n.d(t,"RuntimeEnvironment",function(){return r.RuntimeEnvironment}),n.o(r,"TicketStates")&&n.d(t,"TicketStates",function(){return r.TicketStates}),n.o(r,"TimerComopnent")&&n.d(t,"TimerComopnent",function(){return r.TimerComopnent});var i=(n("lrsS"),n("r+lL"));n.o(i,"AppSocket")&&n.d(t,"AppSocket",function(){return i.AppSocket}),n.o(i,"AppStorage")&&n.d(t,"AppStorage",function(){return i.AppStorage}),n.o(i,"BoxActivity")&&n.d(t,"BoxActivity",function(){return i.BoxActivity}),n.o(i,"BoxTicket")&&n.d(t,"BoxTicket",function(){return i.BoxTicket}),n.o(i,"CacheBranch")&&n.d(t,"CacheBranch",function(){return i.CacheBranch}),n.o(i,"CacheCounter")&&n.d(t,"CacheCounter",function(){return i.CacheCounter}),n.o(i,"CacheService")&&n.d(t,"CacheService",function(){return i.CacheService}),n.o(i,"CacheUsers")&&n.d(t,"CacheUsers",function(){return i.CacheUsers}),n.o(i,"GlobalActivitySummary")&&n.d(t,"GlobalActivitySummary",function(){return i.GlobalActivitySummary}),n.o(i,"GlobalTicketSummary")&&n.d(t,"GlobalTicketSummary",function(){return i.GlobalTicketSummary}),n.o(i,"HttpServiceGenerator")&&n.d(t,"HttpServiceGenerator",function(){return i.HttpServiceGenerator}),n.o(i,"LogService")&&n.d(t,"LogService",function(){return i.LogService}),n.o(i,"MonitorFilterService")&&n.d(t,"MonitorFilterService",function(){return i.MonitorFilterService}),n.o(i,"MonitorNavService")&&n.d(t,"MonitorNavService",function(){return i.MonitorNavService}),n.o(i,"ProjectConfig")&&n.d(t,"ProjectConfig",function(){return i.ProjectConfig}),n.o(i,"RuntimeEnvironment")&&n.d(t,"RuntimeEnvironment",function(){return i.RuntimeEnvironment}),n.o(i,"TicketStates")&&n.d(t,"TicketStates",function(){return i.TicketStates}),n.o(i,"TimerComopnent")&&n.d(t,"TimerComopnent",function(){return i.TimerComopnent});var o=n("cS7k");n.d(t,"BoxActivity",function(){return o.a});var a=n("zco0");n.d(t,"GlobalActivitySummary",function(){return a.b});var c=n("wKLO");n.d(t,"GlobalTicketSummary",function(){return c.b});var s=n("gl+N");n.d(t,"BoxTicket",function(){return s.a})},zco0:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n("3eyR"),i=function(){function e(e){this._s=e,this.branch_id=this._s.bid,this.category=this._s.cat,this.on=this._s.on,this.off=this._s.off,this.total=this.on+this.off}return e}(),o=function(){function e(e){this._b=e,this.branch_id=this._b.branch_id,this.kiosk=new i(this._b.kiosk),this.counter=new i(this._b.counter)}return e.prototype.UpdateActivity=function(e){switch(e.category){case r.a.Categories.Kiosk:this.kiosk=e;break;case r.a.Categories.Counter:this.counter=e}},e}(),a=function(){function e(){this.boxes=new Map}return e.prototype.Refresh=function(e){var t=this;e&&e.forEach(function(e){return t.Replace(e)})},e.prototype.Replace=function(e){if(e&&e.counter&&e.kiosk){var t=new o(e);this.boxes.set(t.branch_id,t)}},e.prototype.ToArray=function(){return Array.from(this.boxes.values())},e}()},zhgK:function(e,t){e.exports='<div id="focusComponent">\r\n    <h2 class="header uppercase"> </h2>\r\n    <div class="nav">\r\n        <button class="btnClear btnMargin uppercase" (click)="goBackBranchList()" i18n>Go Back</button>\r\n    </div>\r\n    <app-category i18n-name name="Counter" [data]="counters$ | async"></app-category>\r\n    <app-category name="Kiosk" [data]="kiosks$ | async"></app-category>\r\n</div>'}});